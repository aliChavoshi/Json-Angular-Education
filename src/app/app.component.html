<div class="container mt-4">
  <h3 class="mb-3">لیست دانشجویان</h3>
  @if(students.length>0){
  <table class="table table-bordered table-hover table-striped">
    <thead class="table-dark">
      <tr>
        <th>نام</th>
        <th>سن</th>
        <th>مدرک</th>
        <th>نام خانوادگی</th>
        <th>تصویر</th>
      </tr>
    </thead>
    <tbody>
      @for (item of students; track item.id; let i = $index; let last = $last; let first = $first; let odd = $odd; let
      even = $even) {
      <tr [class]="odd ? 'table-light' : ''">
        <td>{{ item.name }}</td>
        <td>{{ item.age }}</td>
        <td>{{ item.degree }}</td>
        <td>{{ item.lastName }}</td>
        <td>
          <img style="max-height: 150px;" [src]="item.image" alt="">
        </td>
      </tr>
      }
    </tbody>
  </table>
  }@else{
  <ng-container *ngTemplateOutlet="noData"></ng-container>
  }
  <!-- NgIf : DOM -->
  <!-- NgFor : Structrul Directive -->
  <div class="text-center my-4">
    <button class="btn btn-primary" (click)="toggleJson()">نمایش/مخفی JSON</button>
  </div>

  @if(showJson){
  <div class="card">
    <div class="card-header">
      اطلاعات JSON
    </div>
    <div class="card-body">
      <pre class="mb-0">{{ students | json | titlecase }}</pre>
    </div>
  </div>
  }
</div>
<nav aria-label="Page navigation example d-flex justify-content-center align-items-center">
  <ul class="pagination">
    <!-- Pre -->
    <li class="page-item" (click)="currentPage=currentPage-1" [ngClass]="{'disabled': currentPage===0}">
      <a appAppClass class="page-link" href="#">Previous</a>
    </li>
    <!-- Loop : Index Page -->
    @for (item of students; track $index;let i = $index) {
    <li (click)="currentPage = i" [ngClass]="getClass(i)" class="page-item"><a class="page-link" href="#">{{ i+1 }}</a>
    </li>
    }
    <!-- Next -->
    <li (click)="currentPage=currentPage+1" class="page-item"><a class="page-link"
        [ngClass]="{'disabled': students.length-1===currentPage }" href="#">Next</a></li>
  </ul>
</nav>
<ng-template #noData>
  <div class="alert alert-danger text-center" role="alert">
    <strong>هیچ دانشجویی وجود ندارد!</strong>
  </div>
</ng-template>
